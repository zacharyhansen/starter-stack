{"version":3,"sources":["../../../src/migrations/helpers/uuid-external.ts"],"sourcesContent":["import type { Knex } from 'knex';\n\n// !IMPORTANT: You cannot change these and expect old models to update - these CANNOT not be modified\n\n/**\n * Represents a model that can poosibly be linked to a copy in an external system.\n *\n * We should only support upsert on either our interal id or this external_id column\n */\nexport function withIds(knex: Knex, table: Knex.CreateTableBuilder) {\n  table.uuid('id').primary().defaultTo(knex.raw('gen_random_uuid()'));\n  table.text('external_id').nullable().unique();\n}\n"],"names":["withIds","knex","table","uuid","primary","defaultTo","raw","text","nullable","unique"],"mappings":";;;;+BASgBA;;;eAAAA;;;AAAT,SAASA,QAAQC,IAAU,EAAEC,KAA8B;IAChEA,MAAMC,IAAI,CAAC,MAAMC,OAAO,GAAGC,SAAS,CAACJ,KAAKK,GAAG,CAAC;IAC9CJ,MAAMK,IAAI,CAAC,eAAeC,QAAQ,GAAGC,MAAM;AAC7C"}