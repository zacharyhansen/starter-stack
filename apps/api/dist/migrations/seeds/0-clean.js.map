{"version":3,"sources":["../../../src/migrations/seeds/0-clean.ts"],"sourcesContent":["import type knex from 'knex';\n\nimport { ORG_SCHEMAS } from '../migrate';\n\nexport async function seed(knex: knex.Knex): Promise<void> {\n  /* Delete Org Records */\n  await Promise.all(ORG_SCHEMAS.map(schema => knex(`${schema}.deal`).del()));\n  await Promise.all(\n    ORG_SCHEMAS.map(schema => knex(`${schema}.property`).del())\n  );\n  await Promise.all(ORG_SCHEMAS.map(schema => knex(`${schema}.task`).del()));\n  await Promise.all(\n    ORG_SCHEMAS.map(schema => knex(`${schema}.deal_status`).del())\n  );\n  await Promise.all(\n    ORG_SCHEMAS.map(schema => knex(`${schema}.task_priority`).del())\n  );\n  await Promise.all(\n    ORG_SCHEMAS.map(schema => knex(`${schema}.task_status`).del())\n  );\n\n  /* Delete Public Records */\n  await Promise.all([\n    knex('public.organization_user').del(),\n    knex('public.organization_business').del(),\n    knex('public.business_user').del(),\n    knex('public.user').del(),\n    knex('public.business').del(),\n    knex('public.organization').del(),\n  ]);\n}\n"],"names":["seed","knex","Promise","all","ORG_SCHEMAS","map","schema","del"],"mappings":";;;;+BAIsBA;;;eAAAA;;;yBAFM;AAErB,eAAeA,KAAKC,IAAe;IACxC,sBAAsB,GACtB,MAAMC,QAAQC,GAAG,CAACC,oBAAW,CAACC,GAAG,CAACC,CAAAA,SAAUL,KAAK,GAAGK,OAAO,KAAK,CAAC,EAAEC,GAAG;IACtE,MAAML,QAAQC,GAAG,CACfC,oBAAW,CAACC,GAAG,CAACC,CAAAA,SAAUL,KAAK,GAAGK,OAAO,SAAS,CAAC,EAAEC,GAAG;IAE1D,MAAML,QAAQC,GAAG,CAACC,oBAAW,CAACC,GAAG,CAACC,CAAAA,SAAUL,KAAK,GAAGK,OAAO,KAAK,CAAC,EAAEC,GAAG;IACtE,MAAML,QAAQC,GAAG,CACfC,oBAAW,CAACC,GAAG,CAACC,CAAAA,SAAUL,KAAK,GAAGK,OAAO,YAAY,CAAC,EAAEC,GAAG;IAE7D,MAAML,QAAQC,GAAG,CACfC,oBAAW,CAACC,GAAG,CAACC,CAAAA,SAAUL,KAAK,GAAGK,OAAO,cAAc,CAAC,EAAEC,GAAG;IAE/D,MAAML,QAAQC,GAAG,CACfC,oBAAW,CAACC,GAAG,CAACC,CAAAA,SAAUL,KAAK,GAAGK,OAAO,YAAY,CAAC,EAAEC,GAAG;IAG7D,yBAAyB,GACzB,MAAML,QAAQC,GAAG,CAAC;QAChBF,KAAK,4BAA4BM,GAAG;QACpCN,KAAK,gCAAgCM,GAAG;QACxCN,KAAK,wBAAwBM,GAAG;QAChCN,KAAK,eAAeM,GAAG;QACvBN,KAAK,mBAAmBM,GAAG;QAC3BN,KAAK,uBAAuBM,GAAG;KAChC;AACH"}