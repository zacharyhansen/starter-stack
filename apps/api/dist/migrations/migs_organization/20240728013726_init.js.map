{"version":3,"sources":["../../../src/migrations/migs_organization/20240728013726_init.ts"],"sourcesContent":["import { table } from 'console';\n\nimport type { Knex } from 'knex';\n\nimport {\n  DEAL_STATUS,\n  TASK_PRIORITY,\n  TASK_STATUS,\n} from '../helpers/seed-constants';\nimport { withIds } from '../helpers/uuid-external';\n\nexport async function up(knex: Knex): Promise<void> {\n  return (\n    knex.schema\n      .withSchema(knex.userParams.schemaName)\n      // Grant access to the schema to super_admin\n      .raw(\n        `GRANT USAGE ON SCHEMA ${knex.userParams.schemaName} TO super_admin;`\n      )\n      .raw(\n        `GRANT ALL ON ALL TABLES IN SCHEMA ${knex.userParams.schemaName} TO super_admin;`\n      )\n      .raw(\n        `GRANT ALL ON ALL FUNCTIONS IN SCHEMA ${knex.userParams.schemaName} TO super_admin;`\n      )\n      .raw(\n        `ALTER DEFAULT PRIVILEGES IN SCHEMA ${knex.userParams.schemaName} GRANT ALL ON TABLES TO super_admin;`\n      )\n      .raw(\n        `ALTER DEFAULT PRIVILEGES IN SCHEMA ${knex.userParams.schemaName} GRANT ALL ON FUNCTIONS TO super_admin;`\n      )\n      // Create and grant access of the schema to org_admin\n      .raw(`CREATE ROLE  ${knex.userParams.schemaName}_admin NOLOGIN;`)\n      .raw(`GRANT ${knex.userParams.schemaName}_admin TO authenticator;`)\n      .raw(\n        `GRANT USAGE ON SCHEMA ${knex.userParams.schemaName} TO ${knex.userParams.schemaName}_admin;`\n      )\n      .raw(\n        `GRANT ALL ON ALL TABLES IN SCHEMA ${knex.userParams.schemaName} TO ${knex.userParams.schemaName}_admin;`\n      )\n      .raw(\n        `GRANT ALL ON ALL FUNCTIONS IN SCHEMA ${knex.userParams.schemaName} TO ${knex.userParams.schemaName}_admin;`\n      )\n      .raw(\n        `ALTER DEFAULT PRIVILEGES IN SCHEMA ${knex.userParams.schemaName} GRANT ALL ON TABLES TO ${knex.userParams.schemaName}_admin;`\n      )\n      .raw(\n        `ALTER DEFAULT PRIVILEGES IN SCHEMA ${knex.userParams.schemaName} GRANT ALL ON FUNCTIONS TO ${knex.userParams.schemaName}_admin;`\n      )\n      .raw(\"NOTIFY pgrst, 'reload config';\")\n      .createTable('deal_status', table => {\n        table.string('id').primary();\n        table.text('external_id').nullable().unique();\n        table.timestamps(true, true);\n\n        table.string('label').notNullable();\n        table.integer('order').unique().nullable();\n      })\n      .createTable('opportunity', table => {\n        withIds(knex, table);\n        table.timestamps(true, true);\n\n        table.uuid('active_deal_id').nullable();\n        table.text('label').nullable();\n        // The internal user assigned to the opportunity\n        table.uuid('assignee_id').nullable();\n        table\n          .foreign('assignee_id')\n          .references('id')\n          .inTable('public.user')\n          .onDelete('SET NULL');\n        // The user applying for the loan (can be a business or person)\n        table.uuid('borrower_id').nullable();\n        table\n          .foreign('borrower_id')\n          .references('id')\n          .inTable('public.user')\n          .onDelete('SET NULL');\n        table.uuid('borrower_business_id').nullable();\n        table\n          .foreign('borrower_business_id')\n          .references('id')\n          .inTable('public.business')\n          .onDelete('SET NULL');\n        table.uuid('created_by_id').nullable();\n        table\n          .foreign('created_by_id')\n          .references('id')\n          .inTable('public.user')\n          .onDelete('SET NULL');\n      })\n      .createTable('deal', function (table) {\n        withIds(knex, table);\n        table.timestamps(true, true);\n\n        table.text('label').nullable();\n        table.text('source').nullable();\n        table.integer('winnability').nullable();\n        table.integer('appetite').nullable();\n        table.integer('ssbs_score').nullable();\n        table.decimal('loan_amount', 14, 3).nullable();\n        // recorded in decimal format so 4% is .04\n        table.decimal('interest_rate', 7, 6).nullable();\n        table.decimal('loan_processing_fee', 10, 2).nullable();\n        table.uuid('opportunity_id').notNullable();\n        table\n          .foreign('opportunity_id')\n          .references('id')\n          .inTable(`${knex.userParams.schemaName}.opportunity`)\n          .onDelete('CASCADE');\n        table.string('status_id').notNullable();\n        table\n          .foreign('status_id')\n          .references('id')\n          .inTable(`${knex.userParams.schemaName}.deal_status`)\n          .onDelete('RESTRICT');\n        // The internal user assigned to the deal\n        table.uuid('assignee_id').nullable();\n        table\n          .foreign('assignee_id')\n          .references('id')\n          .inTable('public.user')\n          .onDelete('SET NULL');\n        table.uuid('created_by_id').nullable();\n        table\n          .foreign('created_by_id')\n          .references('id')\n          .inTable('public.user')\n          .onDelete('SET NULL');\n      })\n      .alterTable('opportunity', table => {\n        table\n          .foreign('active_deal_id')\n          .references('id')\n          .inTable(`${knex.userParams.schemaName}.deal`)\n          .onDelete('RESTRICT');\n      })\n      .createTable('task_status', table => {\n        table.integer('id').primary();\n        table.timestamps(true, true);\n        table.string('label').notNullable().unique();\n      })\n      .createTable('task_priority', table => {\n        table.integer('id').primary();\n        table.timestamps(true, true);\n        table.string('label').notNullable().unique();\n      })\n      .createTable('task', table => {\n        withIds(knex, table);\n        table.timestamps(true, true);\n\n        table.integer('status_id').notNullable().defaultTo(1);\n        table\n          .foreign('status_id')\n          .references('id')\n          .inTable(`${knex.userParams.schemaName}.task_status`)\n          .onDelete('RESTRICT');\n        table.integer('priority_id').notNullable().defaultTo(0);\n        table\n          .foreign('priority_id')\n          .references('id')\n          .inTable(`${knex.userParams.schemaName}.task_priority`)\n          .onDelete('RESTRICT');\n        table.text('title').notNullable();\n        table.text('description');\n        table.uuid('assignee_id').nullable();\n        table\n          .foreign('assignee_id')\n          .references('id')\n          .inTable('public.user')\n          .onDelete('SET NULL');\n        table.uuid('deal_id').notNullable();\n        table\n          .foreign('deal_id')\n          .references('id')\n          .inTable(`${knex.userParams.schemaName}.deal`)\n          .onDelete('CASCADE');\n      })\n      .createTable('property', function (table) {\n        withIds(knex, table);\n        table.timestamps(true, true);\n\n        table.text('description');\n        table.specificType('tags', 'text[]');\n        table.integer('year_built');\n        table.double('area_sq_km');\n        table.enu('type', ['commercial', 'residential'], {\n          enumName: `property_type`,\n          useNative: true,\n        });\n        table.specificType(\n          'amenities',\n          `${knex.userParams.schemaName}.property_type[]`\n        );\n        table.date('submitted_at');\n        table.dateTime('last_census_at');\n        table.boolean('is_condo').defaultTo(false);\n        table.uuid('deal_id').notNullable();\n        table\n          .foreign('deal_id')\n          .references('id')\n          .inTable(`${knex.userParams.schemaName}.deal`)\n          .onDelete('CASCADE');\n      })\n      .createTable('deal_user', function (table) {\n        table.uuid('id').primary().defaultTo(knex.raw('gen_random_uuid()'));\n        table.timestamps(true, true);\n\n        table.uuid('user_id').notNullable();\n        table.uuid('deal_id').notNullable();\n\n        // Foreign Key constraints\n        table\n          .foreign('user_id')\n          .references('id')\n          .inTable('public.user')\n          .onDelete('CASCADE');\n\n        table\n          .foreign('deal_id')\n          .references('id')\n          .inTable(`${knex.userParams.schemaName}.deal`)\n          .onDelete('CASCADE');\n\n        table.primary(['id', 'user_id', 'deal_id']);\n      })\n      .raw(\n        `\n        CREATE VIEW ${knex.userParams.schemaName}.view_organization_user AS SELECT public.user.* FROM public.user \n          LEFT JOIN public.organization_user on public.user.id=public.organization_user.user_id\n          where public.organization_user.organization_id='${knex.userParams.schemaName}';\n        `\n      )\n      .raw(\n        `\n        CREATE VIEW ${knex.userParams.schemaName}.view_organization_business AS SELECT public.business.* FROM public.business \n          LEFT JOIN public.organization_business on public.business.id=public.organization_business.business_id\n          where public.organization_business.organization_id='${knex.userParams.schemaName}';\n        `\n      )\n      .then(() => {\n        knex('task_status').insert(TASK_STATUS);\n        knex('task_priority').insert(TASK_PRIORITY);\n        knex('deal_status').insert(DEAL_STATUS);\n      })\n  );\n}\n\nexport async function down(knex: Knex): Promise<void> {\n  return knex.schema\n    .withSchema(knex.userParams.schemaName)\n    .dropTable('deal_user')\n    .dropTable('property')\n    .raw(\n      `DROP TABLE IF EXISTS ${knex.userParams.schemaName}.opportunity CASCADE`\n    )\n    .raw(`DROP TABLE IF EXISTS ${knex.userParams.schemaName}.deal CASCADE`)\n    .dropTable('deal_status')\n    .dropTable('task')\n    .dropTable('task_priority')\n    .dropTable('task_status')\n    .raw(`DROP TYPE IF EXISTS ${knex.userParams.schemaName}.property_type`)\n    .raw(`DROP VIEW ${knex.userParams.schemaName}.view_organization_user;`)\n    .raw(`DROP VIEW ${knex.userParams.schemaName}.view_organization_business;`)\n    .raw(\n      `REVOKE ALL ON ALL TABLES IN SCHEMA ${knex.userParams.schemaName} FROM super_admin;`\n    )\n    .raw(\n      `REVOKE ALL ON ALL FUNCTIONS IN SCHEMA ${knex.userParams.schemaName} FROM super_admin;`\n    )\n    .raw(\n      `ALTER DEFAULT PRIVILEGES IN SCHEMA ${knex.userParams.schemaName} REVOKE ALL ON TABLES FROM super_admin;`\n    )\n    .raw(\n      `ALTER DEFAULT PRIVILEGES IN SCHEMA ${knex.userParams.schemaName} REVOKE ALL ON FUNCTIONS FROM super_admin;`\n    )\n    .raw(\n      `REVOKE ALL ON ALL TABLES IN SCHEMA ${knex.userParams.schemaName} FROM ${knex.userParams.schemaName}_admin;`\n    )\n    .raw(\n      `REVOKE ALL ON ALL FUNCTIONS IN SCHEMA ${knex.userParams.schemaName} FROM ${knex.userParams.schemaName}_admin;`\n    )\n    .raw(\n      `ALTER DEFAULT PRIVILEGES IN SCHEMA ${knex.userParams.schemaName} REVOKE ALL ON TABLES FROM ${knex.userParams.schemaName}_admin;`\n    )\n    .raw(\n      `ALTER DEFAULT PRIVILEGES IN SCHEMA ${knex.userParams.schemaName} REVOKE ALL ON FUNCTIONS FROM ${knex.userParams.schemaName}_admin;`\n    )\n    .raw(\n      `REVOKE ALL ON SCHEMA ${knex.userParams.schemaName} from ${knex.userParams.schemaName}_admin;`\n    )\n    .raw(`DROP ROLE IF EXISTS ${knex.userParams.schemaName}_admin;`)\n    .raw(`DROP SCHEMA ${knex.userParams.schemaName} CASCADE;`);\n}\n"],"names":["down","up","knex","schema","withSchema","userParams","schemaName","raw","createTable","table","string","primary","text","nullable","unique","timestamps","notNullable","integer","withIds","uuid","foreign","references","inTable","onDelete","decimal","alterTable","defaultTo","specificType","double","enu","enumName","useNative","date","dateTime","boolean","then","insert","TASK_STATUS","TASK_PRIORITY","DEAL_STATUS","dropTable"],"mappings":"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"}